@page "/"

<MenuBar OnFileOpenMenuClick="FileOpenMenuClick"/>


@if (image != null) 
{
  <table class="image-table">
    <thead></thead>
    <tbody>
  @for (int y = 0; y < image.Data.Length; y++) 
  {
    var line = image.Data[y];
    <tr>
    @for (int x = 0; x < line.Length; x++)
    {
      ColorChar c = line[x];
      string backgroundColor = c.BackColor == null ? "purple" : "#" + ConsoleColorConvert.ToHexColor(c.BackColor.Value);
      string foregroundColor = "#" + ConsoleColorConvert.ToHexColor(c.ForeColor);
      <td style="background-color: @backgroundColor; color: @foregroundColor">
        @if(c.Char == default)
        {
          @((MarkupString)"&nbsp;");
        }
        else 
        {
          @c.Char;
        }
          
      </td>
    }
    </tr>
  }
    </tbody>
  </table>
}

<div class="char-selector">
@for (int i = 1; i < 256; i++) 
{
    <div class="char-box">@((char)i)</div>
}
</div>